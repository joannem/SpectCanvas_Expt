<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<title>SpecCanvas User Study</title>

		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/practice.css" rel="stylesheet">
	
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="page-header">
						<h1>Spectrogram Canvas User Study</h1>
					</div>

					<ul class="nav nav-pills">
						<li role="presentation"><a href="pre-questionnaire.html">Pre-Questionnaire</a></li>
						<li role="presentation"><a href="instructions.html">Instructions</a></li>
						<li role="presentation" class="active"><a href="#">Practice</a></li>
						<li role="presentation" class="disabled"><a href="#">Experiment</a></li>
						<li role="presentation" class="disabled"><a href="#">Post-Questionnaire</a></li>
					</ul>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-10">		
					<h2>Practice</h2>
					<h3>Instructions</h3>
					<p>This segment is to help you familiarise yourself to the Spectrogram Canvas interface and its tools.</p>
					<p>Each practice round has two sections:</p>
					<p><b>First section. </b></p>
					<p>You will presented with basic sound signals and a half-complete spectrogram on a Spectrogram Canvas interface. We would like to ask you to modify the spectrogram based on your knowledge on spectrograms. Do note that to simplify the task, only specific features of Spectrogram Canvas can be edited. Be assured that the disabled features are not required to complete the task.</p>
					<p><b>Second section. </b></p>
					<p>You will be presented with a blank Spectrogram Canvas. In order to familiarise yourself with the harmonic pencil tool, youâ€™ll be asked to replicate your spectrogram drawing from the first section onto the blank Spectrogram Canvas.</p>
					<a class="btn btn-primary active">Begin practice</a>
				</div>
			</div>

			<div class="row">
				<div class="col-md-10">	
					<div id="sound-space-container">
						<div class="sound-wave">
							Original signal (mimic this):<br>
							<canvas id="original-sound-wave"></canvas>
							<button type="button" class="btn btn-default">
								<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Play
							</button>
						</div>
						Spectrogram Canvas: <br>
						<svg id="svg-canvas" version="1.1" width="5000" height="500">
								<rect width="100%" height="100%" fill="black"></rect>
						</svg>

						<div class="btn-group dropup">
							<button type="button" class="btn btn-primary">Tools</button>
							<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<span class="caret"></span>
								<span class="sr-only">Toggle Dropdown</span>
							</button>
							<ul class="dropdown-menu">
								<li><a><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Harmonic Pencil Tool</a></li>
								<li><a><span class="glyphicon glyphicon-hand-up" aria-hidden="true"></span> Select Tool</a></li>
								<li><a><span class="glyphicon glyphicon-duplicate" aria-hidden="true"></span> Duplicate Tool</a></li>
								<li><a><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete Tool</a></li>
							</ul>
						</div>
						<button type="button" class="btn btn-default">Reconstruct sound</button>

						<div class="sound-wave">
							Reconstructed signal:<br>
							<canvas id="reconstructed-sound-wave"></canvas>
							<button type="button" class="btn btn-default">
								<span class="glyphicon glyphicon-play" aria-hidden="true"></span> Play
							</button>
						</div>
					</div>

					<nav>
						<ul class="pagination">
							<li>
								<a href="#" aria-label="Previous">
									<span aria-hidden="true">&laquo;</span>
								</a>
							</li>
							<li><a href="#">1</a></li>
							<li><a href="#">2</a></li>
							<li><a href="#">3</a></li>
							<li><a href="#">4</a></li>
							<li><a href="#">5</a></li>
							<li>
								<a href="#" aria-label="Next">
									<span aria-hidden="true">&raquo;</span>
								</a>
							</li>
						</ul>
					</nav>

					<a href="experiments.html" class="btn btn-primary active">Begin experiment</a>

				</div>

				<div class="col-md-2">
					<br>
					<!-- Button trigger modal -->
					<button type="button" class="btn btn-primary active" data-toggle="modal" data-target="#spectCanvasGuide">
						Spectrogram Canvas guide
					</button>

					<!-- Modal -->
					<div class="modal fade" id="spectCanvasGuide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="myModalLabel">How to use Spectrogram Canvas</h4>
								</div>
								<div class="modal-body">
									<h4>Tools in Spectrogram Canvas</h4>
									<p><b>Harmonic-pencil tool:</b> Used to draw more than one harmonics at a time. Right-click on harmonic after drawing to bring up the harmonic inspector. Hold down the <i>Shift</i> key to draw a straight horizontal line if needed.</p>
									<p><b>Harmonic inspector:</b> Used to adjust the amplitudes of individual partials, add or delete new harmonics at integer multiples of the base frequency (f0). The overall envelope of the harmonics can be adjusted by changing the gradient colour of the painted harmonics.</p>
									<p><b>Select tool:</b> Used to select or deselect harmonics on the spectrogram. Selected harmonics will be bounded by a box to indicate that it has been selected.</p>
									<p><b>Delete tool:</b> Delete all selected harmonics.</p>
									<p><b>Duplicate tool:</b> Duplicate all selected harmonics.</p>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="js/vendor/jquery-2.2.0.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="js/vendor/bootstrap.min.js"></script>
		<script type="text/javascript">
			$('#original-sound-wave, #reconstructed-sound-wave').css({
				"height": 140,
				"width": $('#sound-space-container').width()
			});
			var originalSoundWaveCanvasCtx = $('#original-sound-wave')[0].getContext("2d");
			var reconstructedSoundWaveCanvasCtx = $('#reconstructed-sound-wave')[0].getContext("2d");
			originalSoundWaveCanvasCtx.fillRect(0, 0, $('#sound-space-container').width(), 140);
			reconstructedSoundWaveCanvasCtx.fillRect(0, 0, $('#sound-space-container').width(), $('#reconstructed-sound-wave').height());

		</script>
	</body>
</html>